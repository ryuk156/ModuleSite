{"version":3,"sources":["webpack:///./src/components/SearchForm/SearchForm.jsx","webpack:///./src/templates/modulelist.jsx"],"names":["SearchForm","query","filter","Form","role","method","Row","form","id","Col","md","FormGroup","Label","for","Input","type","name","bsSize","aria-controls","onChange","e","navigate","location","pathname","encodeURIComponent","target","value","placeholder","Button","color","size","props","data","pageContext","moduleCurrentPage","moduleNumPages","postEdges","allMarkdownRemark","edges","DATA","moduleList","isFirst","isLast","prevPage","toString","nextPage","useState","isShown","setIsShown","results","setResults","srcLocation","window","search","searchQuery","URLSearchParams","get","filterTag","escapeRegExp","string","replace","useEffect","module","searchRgx","RegExp","tagRgx","tags","match","title","className","config","siteTitle","SEO","SearchResult","PostListing","to","rel"],"mappings":"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","file":"component---src-templates-modulelist-jsx-0193a5a4e3717ea4a12e.js","sourcesContent":["import React from \"react\";\nimport { navigate } from \"gatsby\";\nimport { Button, Col, Form, FormGroup, Input, Label, Row } from \"reactstrap\";\n\nconst SearchForm = ({ query, filter }) => (\n  <Form role=\"search\" method=\"GET\">\n    <Row form id=\"search-form\">\n      <Col md=\"2\">\n        <FormGroup>\n          <Label for=\"searchFilter\">\n            <h6>Filter</h6>\n          </Label>\n          <Input\n            type=\"select\"\n            name=\"filter\"\n            id=\"search-tag\"\n            bsSize=\"lg\"\n            aria-controls=\"search-results-count\"\n            onChange={e =>\n              navigate(\n                `${\n                  location.pathname\n                }?keywords=${query}&filter=${encodeURIComponent(\n                  e.target.value\n                )}`\n              )\n            }\n            value={filter}\n          >\n            <option value=\"\">All</option>\n            <option value=\"gameplay\">Gameplay</option>\n            <option value=\"logic\">Logic</option>\n          </Input>\n        </FormGroup>\n      </Col>\n      <Col md=\"8\">\n        <FormGroup>\n          <Label for=\"searchQuery\">\n            <h6>Search</h6>\n          </Label>\n          <Input\n            type=\"search\"\n            id=\"search-input\"\n            name=\"keywords\"\n            bsSize=\"lg\"\n            aria-controls=\"search-results-count\"\n            onChange={e =>\n              navigate(\n                `${location.pathname}?keywords=${encodeURIComponent(\n                  e.target.value\n                )}&filter=${filter}`\n              )\n            }\n            placeholder=\"Search...\"\n            value={query}\n          />\n        </FormGroup>\n      </Col>\n      <Col md=\"2\">\n        <Button type=\"submit\" color=\"primary\" size=\"lg\" id=\"search-btn\">\n          Search\n        </Button>\n      </Col>\n    </Row>\n  </Form>\n);\n\nexport default SearchForm;\n","import React, { useState, useEffect } from \"react\";\nimport Helmet from \"react-helmet\";\nimport { Link, graphql } from \"gatsby\";\nimport Layout from \"../layout\";\nimport PostListing from \"../components/PostListing/PostListing\";\nimport SEO from \"../components/SEO/SEO\";\nimport SearchForm from \"../components/SearchForm/SearchForm\";\nimport SearchResults from \"../components/SearchResult/SearchResult\";\nimport config from \"../../data/SiteConfig\";\nimport moduleList from \"../generated/module-result.json\";\n\nexport default ({ data, pageContext: { moduleCurrentPage, moduleNumPages } },  props) => {\n  const postEdges = data.allMarkdownRemark.edges;\n  const DATA = moduleList;\n\n  const prefix = \"/modules/\";\n  const isFirst = moduleCurrentPage === 1;\n  const isLast = moduleCurrentPage === moduleNumPages;\n  const prevPage =\n    moduleCurrentPage - 1 === 1 ? \"\" : (moduleCurrentPage - 1).toString();\n  const nextPage = (moduleCurrentPage + 1).toString();\n\n  const [isShown, setIsShown] = useState(false);\n\n  const [results, setResults] = useState([]);\n  // eslint-disable-next-line react/destructuring-assignment\n  let srcLocation = props.location;\n  if (typeof window !== `undefined`) {\n    // eslint-disable-next-line no-restricted-globals\n    srcLocation = location.search;\n  }\n  const searchQuery = new URLSearchParams(srcLocation).get(\"keywords\") || \"\";\n  var filterTag = new URLSearchParams(srcLocation).get(\"filter\") || \"\";\n  function escapeRegExp(string) {\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  }\n\n  useEffect(() => {\n    if (searchQuery || filterTag) {\n      setResults(\n        DATA.filter(module => {\n          const searchRgx = new RegExp(escapeRegExp(searchQuery), \"gi\");\n          const tagRgx = new RegExp(escapeRegExp(filterTag), \"gi\");\n          return module.tags.match(tagRgx) && module.title.match(searchRgx);\n        })\n      );\n      setIsShown(true);\n    } else {\n      setResults([]);\n      setIsShown(false);\n    }\n  }, [srcLocation]);\n\n  return (\n    <Layout>\n      <div className=\"index-container\">\n      <Helmet title={`Modules | ${config.siteTitle}`} />\n        <SEO />\n        <SearchForm query={searchQuery} filter={filterTag} />\n        {isShown && (\n          <SearchResults\n            id=\"src\"\n            query={searchQuery}\n            filter={filterTag}\n            results={results}\n            postEdges={postEdges}\n          />\n        )}\n        {!isShown && <PostListing id=\"modules\" postEdges={postEdges} />}\n      </div>\n      {!isFirst && (\n        <Link to={`${prefix}${prevPage}`} rel=\"prev\">\n          ← Previous Page\n        </Link>\n      )}\n      {!isLast && (\n        <Link to={`${prefix}${nextPage}`} rel=\"next\">\n          Next Page →\n        </Link>\n      )}\n    </Layout>\n  );\n};\n\n/* eslint no-undef: \"off\" */\nexport const moduleQuery = graphql`\n  query moduleQuery {\n    allMarkdownRemark(\n      limit: 2000\n      sort: { fields: [fields___date], order: DESC }\n      filter: { frontmatter: { posttype: { eq: \"module\" } } }\n    ) {\n      edges {\n        node {\n          fields {\n            slug\n            date\n          }\n          excerpt\n          timeToRead\n          frontmatter {\n            title\n            tags\n            date\n            cover {\n              publicURL\n              childImageSharp {\n                sizes(maxWidth: 768) {\n                  ...GatsbyImageSharpSizes\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}